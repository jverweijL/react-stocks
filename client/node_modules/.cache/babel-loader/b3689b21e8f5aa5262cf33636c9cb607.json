{"ast":null,"code":"var _jsxFileName = \"/liferay/development/javascriptframeworks/react/stock/client/src/App.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst corsProxy = 'https://cors-anywhere.herokuapp.com/';\nconst stocksUrl = `${corsProxy}https://query1.finance.yahoo.com/v8/finance/chart/GME`;\n\nasync function getStocks() {\n  const response = await fetch(stocksUrl);\n  return response.json();\n}\n\nfunction App() {\n  _s();\n\n  const [price, setPrice] = useState(-1);\n  useEffect(() => {\n    let timeoutId;\n\n    async function getLatestPrice() {\n      const data = await getStocks();\n      const stock = data.chart.result[0];\n      setPrice(stock.meta.regularMarketPrice.toFixed(2));\n      timeoutId = setTimeout(getLatestPrice, 5000);\n    }\n\n    timeoutId = setTimeout(getLatestPrice, 5000); //disposale function\n\n    return () => {\n      clearTimeout(timeoutId);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"price\",\n    children: price\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"/Q4WKeAYQfwnM8q077JNp81dE40=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useEffect","useState","logo","corsProxy","stocksUrl","getStocks","response","fetch","json","App","price","setPrice","timeoutId","getLatestPrice","data","stock","chart","result","meta","regularMarketPrice","toFixed","setTimeout","clearTimeout"],"sources":["/liferay/development/javascriptframeworks/react/stock/client/src/App.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\n\nconst corsProxy = 'https://cors-anywhere.herokuapp.com/';\nconst stocksUrl = `${corsProxy}https://query1.finance.yahoo.com/v8/finance/chart/GME`;\nasync function getStocks() {\n  const response = await fetch(stocksUrl);\n  return response.json();\n}\n\nfunction App() {\nconst [price, setPrice] = useState(-1);\n\n  useEffect(() => {\n    let timeoutId;\n    async function getLatestPrice() {\n      const data = await getStocks();\n      const stock = data.chart.result[0];\n      setPrice(stock.meta.regularMarketPrice.toFixed(2));\n      timeoutId = setTimeout(getLatestPrice,5000);\n    }\n\n    timeoutId = setTimeout(getLatestPrice,5000);\n\n    //disposale function\n    return () => {\n      clearTimeout(timeoutId);\n    };\n  },[]);\n\n  return (\n    <div className=\"price\">\n      {price}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,IAAP,MAAiB,YAAjB;AACA,OAAO,WAAP;;AAEA,MAAMC,SAAS,GAAG,sCAAlB;AACA,MAAMC,SAAS,GAAI,GAAED,SAAU,uDAA/B;;AACA,eAAeE,SAAf,GAA2B;EACzB,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACH,SAAD,CAA5B;EACA,OAAOE,QAAQ,CAACE,IAAT,EAAP;AACD;;AAED,SAASC,GAAT,GAAe;EAAA;;EACf,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBV,QAAQ,CAAC,CAAC,CAAF,CAAlC;EAEED,SAAS,CAAC,MAAM;IACd,IAAIY,SAAJ;;IACA,eAAeC,cAAf,GAAgC;MAC9B,MAAMC,IAAI,GAAG,MAAMT,SAAS,EAA5B;MACA,MAAMU,KAAK,GAAGD,IAAI,CAACE,KAAL,CAAWC,MAAX,CAAkB,CAAlB,CAAd;MACAN,QAAQ,CAACI,KAAK,CAACG,IAAN,CAAWC,kBAAX,CAA8BC,OAA9B,CAAsC,CAAtC,CAAD,CAAR;MACAR,SAAS,GAAGS,UAAU,CAACR,cAAD,EAAgB,IAAhB,CAAtB;IACD;;IAEDD,SAAS,GAAGS,UAAU,CAACR,cAAD,EAAgB,IAAhB,CAAtB,CATc,CAWd;;IACA,OAAO,MAAM;MACXS,YAAY,CAACV,SAAD,CAAZ;IACD,CAFD;EAGD,CAfQ,EAeP,EAfO,CAAT;EAiBA,oBACE;IAAK,SAAS,EAAC,OAAf;IAAA,UACGF;EADH;IAAA;IAAA;IAAA;EAAA,QADF;AAKD;;GAzBQD,G;;KAAAA,G;AA2BT,eAAeA,GAAf"},"metadata":{},"sourceType":"module"}